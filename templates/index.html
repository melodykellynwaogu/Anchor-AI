<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Anchor a little chat bot made by Melody Kelly using python and flask">
    <title>Anchor BT ðŸ¤–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        ::-webkit-scrollbar {
            width: 8px;
            background: #23272f;
        }
        ::-webkit-scrollbar-thumb {
            background: #374151;
            border-radius: 6px;
        }
        .slide-toggle {
            transition: max-height 0.5s cubic-bezier(.4,0,.2,1);
        }
        html, body {
              height: 100%;
              margin: 0;
              scroll-behavior: smooth;
}

        #chat-container {
              scroll-behavior: smooth;
}
    </style>
    <link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f916.svg">
</head>
<body class="bg-gray-900 text-gray-100 h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-gray-950 shadow-md p-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <img src="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f916.svg" class="w-8 h-8" alt="Bot Icon">
            <h1 class="text-xl font-bold text-blue-400">Anchor BT</h1>
        </div>
    </header>

    <!-- Chat Area -->
    <main id="chat-container" class="flex-grow overflow-y-auto px-4 py-6 space-y-6">
        {% for msg in messages %}
        <div class="flex {% if msg.role == 'user' %} justify-end {% else %} justify-start {% endif %}">
            <div class="max-w-lg px-4 py-3 rounded-xl text-sm shadow
                {% if msg.role == 'user' %}
                    bg-blue-600 text-white rounded-br-none
                {% else %}
                    bg-gray-800 text-gray-200 rounded-bl-none border border-blue-800
                {% endif %}">
                {{ msg.content }}
            </div>
        </div>
        {% endfor %}
        <div id="scroll-anchor"></div>
    </main>

    <!-- Input Form -->
    <form method="POST" class="p-4 bg-gray-950 border-t border-gray-800 flex items-center gap-3">
        <input name="prompt" autocomplete="off" required
            placeholder="Send a message..."
            class="flex-grow p-3 rounded-xl bg-gray-800 text-white placeholder:text-gray-400 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button type="submit"
            class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-xl shadow transition">
            Send
        </button>
    </form>

    <!-- JS -->
    <script>
        function scrollToBottom() {
            const anchor = document.getElementById('scroll-anchor');
            if (anchor) anchor.scrollIntoView({ behavior: 'smooth' });
        }
        scrollToBottom();

        function toggleAbout() {
            const about = document.getElementById('about-section');
            if (about.classList.contains('max-h-0')) {
                about.classList.remove('max-h-0');
                about.classList.add('max-h-96', 'p-6');
            } else {
                about.classList.remove('max-h-96', 'p-6');
                about.classList.add('max-h-0');
            }
        }
    </script>
</body>
</html>
